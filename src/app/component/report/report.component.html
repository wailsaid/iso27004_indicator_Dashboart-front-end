<h2 mat-dialog-title>CyberSecurity Indicators:</h2>
<mat-dialog-content #pdfContent class="mat-typography">
    <div id="pdf" class="row">

        <div class="row" *ngFor="let eval of indicatorsList">
            <h4>{{eval.indicator.name}}</h4>
            <div class="col-xl-7 col-lg-12">
                <div class="card shadow mb-4 ">

                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-primary">Indicator details</h6>

                    </div>

                    <div class="card-body">
                        <ul>
                            <li>
                                <strong>Name:</strong>
                                {{eval.indicator.name}}
                            </li>

                            <li>
                                <strong>Category:</strong>
                                {{eval.indicator.category}}
                            </li>
                            <li>
                                <strong>Type:</strong>
                                {{eval.indicator.type}}
                            </li>
                            <li>
                                <strong>Frequency:</strong>
                                {{eval.indicator.frequency}}
                            </li>
                            <li>
                                <strong>Benefit:</strong>
                                {{eval.indicator.benefit}}
                            </li>
                            <li>
                                <strong>Description:</strong>
                                {{eval.indicator.description}}
                            </li>
                            <li>
                                <strong>How to Measure:</strong>
                                {{eval.indicator.howtomeasure}}
                            </li>

                            <li>
                                <strong>Information Owner:</strong>
                                {{eval.indicator.infoOwner}}
                            </li>
                            <li>
                                <strong>Information Collector:</strong>
                                {{eval.indicator.infoCollector}}
                            </li>
                            <li>
                                <strong>Information Customer:</strong>
                                {{eval.indicator.infoCustomer}}
                            </li>

                            <li>
                                <strong>Target Value:</strong>
                                {{eval.indicator.targetValue}}
                                ({{eval.indicator.valueUnit}})
                            </li>
                            <li>
                                <strong>Acceptable Value:</strong>
                                {{eval.indicator.acceptableValue}}
                                ({{eval.indicator.valueUnit}})
                            </li>

                            <li *ngIf="eval.indicator.apps.length !== 0 ">
                                <strong>Concerned Applications:</strong>
                                <ul>
                                    <li *ngFor="let app of eval.indicator.apps">
                                        {{app.name}}
                                    </li>

                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card shadow mb-4">

                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-primary">Evaluation overview</h6>


                    </div>
                    <div class="card-body">



                        <div class="d-flex justify-content-center mb-lg-2">

                            <h3 id="indicatorValue" class="bold indicator-status {{eval!.status?.toLocaleLowerCase()}}">
                                {{eval!.value}} </h3>

                        </div>

                        <h5><strong>Status: </strong>
                            <span id="status" class="bold text-{{eval!.status?.toLocaleLowerCase()}}">
                                {{eval!.status}}</span>
                        </h5>
                        <h5><strong>Performance: </strong>
                            <ng-container *ngIf="eval?.performance! >= 0;else down ">
                                <span class="text-good bold">
                                    &#8593; {{eval!.performance}}
                                </span>

                            </ng-container>
                            <ng-template #down>
                                <span class="text-bad bold">

                                    &#8595; {{eval!.performance}}
                                </span>
                            </ng-template>
                        </h5>
                        <ul>
                            <li>
                                <strong>Target Value:</strong> {{eval.indicator.targetValue}}
                                ({{eval.indicator.valueUnit}})
                            </li>

                            <li>
                                <strong>Acceptable Value:</strong> {{eval.indicator.acceptableValue}}
                                ({{eval.indicator.valueUnit}})
                            </li>
                        </ul>
                        <h6> <strong>Evaluation Date:</strong>
                            {{eval!.evaluationDate.toString().substr(0,10)}}</h6>
                        <h6><strong>Next Evaluation Date:</strong>
                            {{eval.nextEvaluationDate!.toString().substr(0,10)}} </h6>






                    </div>

                </div>

            </div>

        </div>
    </div>


</mat-dialog-content>
<mat-dialog-actions align="end">
    <button class="btn btn-gray" mat-dialog-close>Cancel</button>
    <button class="btn btn-gray" (click)="generatePDF()" [mat-dialog-close]="true" cdkFocusInitial>Download</button>
</mat-dialog-actions>